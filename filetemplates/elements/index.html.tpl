<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, user-scalable=yes">
</head>

<script type="module">

import './node_modules/@sencha/ext-web-components/src/ext-button.component.js';
import './node_modules/@sencha/ext-web-components/src/ext-container.component.js';
import './node_modules/@sencha/ext-web-components/src/ext-menu.component.js';
import './node_modules/@sencha/ext-web-components/src/ext-menuitem.component.js';

export default class ButtonComponent {
    resultContainerReady(event) {
        console.log('ready')
        this.resultContainer = event.detail.cmp;
    }

    addNode = () => {
        this.resultContainer.setHtml('New Items Added');
        var menu = document.querySelector('#menuId');
        var newEl = document.createElement("ext-menuitem");

        newEl.setAttribute("text", "newItems");
        menu.appendChild(newEl);
    }
}

window.button = new ButtonComponent();

</script>

<body>
<div id="root">
    <ext-container padding="10">
        <ext-button text="Menu" id="menuButtonId">
            <ext-menu rel="menu" id="menuId" >
                <ext-menuitem text="Mobile" name="ui-type"></ext-menuitem>
                <ext-menuitem text="Desktop" name="ui-type"></ext-menuitem>
            </ext-menu>
        </ext-button>
        <ext-button
            text="Add New Items In Menu"
            handler="button.addNode"
            ui="action raised">
        </ext-button>
        <ext-container onready="button.resultContainerReady"></ext-container>
    </ext-container>
</div>
</body>

</html>
